(this["webpackJsonpchauek.github.io"]=this["webpackJsonpchauek.github.io"]||[]).push([[0],{150:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(44),c=a.n(n),i=(a(53),a(10)),s=a.n(i),l=a(27),d=a(2),u=a(45),v=a.n(u),b=(a(55),a(46)),m=function(e){var t={label:"Active",fill:!1,lineTension:.1,backgroundColor:"rgba(192,92,41,0.4)",borderColor:"rgb(192,92,41)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(192,92,41,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(192,92,41,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:4,pointHitRadius:10,data:e.activeData},a={labels:e.labels,datasets:[Object.assign({},t,{label:"Confirmed",backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgb(99,255,255)",pointBackgroundColor:"rgb(99,255,255)",pointBorderColor:"rgba(75,192,192,1)",pointHoverBackgroundColor:"rgba(75,192,192,1)",data:e.confirmedData}),Object.assign({},t,{label:"Active",backgroundColor:"rgba(192,92,41,0.4)",borderColor:"rgb(255,122,54)",pointBackgroundColor:"rgb(255,122,54)",pointBorderColor:"rgba(192,92,41,1)",pointHoverBackgroundColor:"rgba(192,92,41,1)",data:e.activeData}),Object.assign({},t,{label:"Recovered",backgroundColor:"rgba(113,192,56,0.4)",borderColor:"rgb(113,192,56)",pointBorderColor:"rgb(113,192,56)",pointBackgroundColor:"rgb(167,255,65)",pointHoverBackgroundColor:"rgb(113,192,56)",data:e.recoveredData}),Object.assign({},t,{label:"Deaths",backgroundColor:"rgba(188,192,187,0.4)",borderColor:"rgb(188,192,187)",pointBorderColor:"rgb(188,192,187)",pointBackgroundColor:"rgb(251,255,249)",pointHoverBackgroundColor:"rgb(188,192,187)",data:e.deathsData})]};return o.a.createElement(b.a,{data:a,options:{maintainAspectRatio:!0}})},f=function(e){var t=e.country,a=e.summary,r=e.data,n="".concat(null===a||void 0===a?void 0:a.confirmed)||"-",c="".concat(null===a||void 0===a?void 0:a.recovered)||"-",i="".concat(null===a||void 0===a?void 0:a.deaths)||"-",s="".concat(null===a||void 0===a?void 0:a.active)||"-",l="".concat(null===a||void 0===a?void 0:a.firstContactDate)||"-";return o.a.createElement("div",{className:"col-6",key:t},o.a.createElement("div",{className:"chartBox"},o.a.createElement("h4",null,t," ",o.a.createElement("span",{className:"active"},s)," ",o.a.createElement("span",{className:"confirmed"},n)," ",o.a.createElement("span",{className:"recovered"},c)," ",o.a.createElement("span",{className:"deaths"},i)),o.a.createElement("div",null,"First contact: ",l),o.a.createElement(m,{labels:Object.keys(r.confirmed),confirmedData:Object.values(r.confirmed),recoveredData:Object.values(r.recovered),deathsData:Object.values(r.deaths),activeData:Object.values(r.active)})))},g=a(26),h=a.n(g);var p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc";return Object.keys(e).sort((function(r,o){var n=e[r][t],c=e[o][t];return"desc"===a?n===c?0:n<c?1:-1:n===c?0:n>c?1:-1}))},O=function(e){for(var t=Object.keys(e),a=0;a<t.length;a+=1)for(var r=e[t[a]],o=Object.keys(r.confirmed),n=0;n<o.length;n+=1){var c=o[n];r.active[c]=r.confirmed[c]-r.recovered[c]-r.deaths[c]}},C=function(e,t,a){for(var r=function(r){var o=t[r],n=o["Country/Region"];e[n]||(e[n]={confirmed:{},recovered:{},deaths:{},active:{}}),Object.keys(o).filter((function(e){return e.match(/[0-9/]{6,}/)})).forEach((function(t){var r=h()(t,"M/D/YY").format("YYYY-MM-DD");e[n][a][r]=parseInt(o[t])+(0|e[n][a][r])}))},o=0;o<t.length;o+=1)r(o)},j=function(e){var t={};return Object.keys(e).forEach((function(a){var r=Object.keys(e[a].confirmed),o=Object.values(e[a].confirmed),n=Object.keys(e[a].recovered),c=Object.keys(e[a].deaths),i=e[a].confirmed[r[r.length-1]],s=e[a].recovered[n[n.length-1]],l=e[a].deaths[c[c.length-1]],d=r[o.findIndex((function(e){return e>0}))];t[a]={firstContactDate:d,confirmed:i,recovered:s,deaths:l,active:i-s-l}})),t};function E(e){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return a=e.sent,e.abrupt("return",v.a.parse(a,{header:!0}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){if(!e.body)return"";var t=e.body.getReader(),a=new TextDecoder("utf-8");return t.read().then((function(e){return a.decode(e.value)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),i=Object(d.a)(c,2),s=i[0],l=i[1],u=Object(r.useState)({}),v=Object(d.a)(u,2),b=v[0],m=v[1],g=Object(r.useState)([]),h=Object(d.a)(g,2),k=h[0],y=h[1],D=Object(r.useState)({}),_=Object(d.a)(D,2),S=_[0],B=_[1],w=Object(r.useState)("confirmed"),N=Object(d.a)(w,2),I=N[0],H=N[1],R=Object(r.useState)("desc"),x=Object(d.a)(R,2),Y=x[0],A=x[1],V=Object(r.useState)(""),W=Object(d.a)(V,2),G=W[0],J=W[1],M=Object(r.useState)(""),T=Object(d.a)(M,2),F=T[0],P=T[1];if(!s)if(a){if(G!==I||F!==Y){l(!0);var $=p(S,I,Y);J(I),P(Y),y($),l(!1)}}else l(!0),Promise.all([E("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv"),E("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Recovered.csv"),E("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Deaths.csv")]).then((function(e){var t=Object(d.a)(e,3),a=t[0],r=t[1],o=t[2],c={};C(c,a.data,"confirmed"),C(c,r.data,"recovered"),C(c,o.data,"deaths"),O(c),console.log("byCountry",c);var i=j(c);console.log("byCountrySummary",i);var s=p(i,I,Y);J(I),P(Y),m(c),B(i),y(s),n(!0),l(!1)}));return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"App-content"},o.a.createElement("header",{className:"header"},o.a.createElement("h1",null,"Coronavirus COVID-19 Stat Charts")),k.length>0&&o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},"Order by: ",o.a.createElement("select",{value:I,onChange:function(e){console.log("handleOrderBySelect val",e.target.value),H(e.target.value)}},o.a.createElement("option",{value:"confirmed"},"confirmed"),o.a.createElement("option",{value:"active"},"active"),o.a.createElement("option",{value:"recovered"},"recovered"),o.a.createElement("option",{value:"deaths"},"deaths"),o.a.createElement("option",{value:"firstContactDate"},"first contact date")),o.a.createElement("select",{value:Y,onChange:function(e){console.log("handleOrderDirSelect val",e.target.value),A(e.target.value)}},o.a.createElement("option",{value:"desc"},"desc"),o.a.createElement("option",{value:"asc"},"asc")))),o.a.createElement("div",{className:"row"},k.map((function(e,t){return o.a.createElement(f,{country:e,summary:S[e],data:b[e],key:e})}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,t,a){e.exports=a(150)},53:function(e,t,a){},55:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.2e317858.chunk.js.map
(this.webpackJsonpCovid19stats=this.webpackJsonpCovid19stats||[]).push([[0],{182:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(7),c=a.n(n),s=(a(84),a(28)),i=a.n(s),l=a(50),d=a(9),u=a(211),v=a(212),m=a(36),b=a.n(m),f=a(68),g=a.n(f),h=(a(86),a(69)),p=function(e){var t={label:"Active",fill:!1,lineTension:.1,backgroundColor:"rgba(192,92,41,0.4)",borderColor:"rgb(192,92,41)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(192,92,41,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(192,92,41,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:3,pointHitRadius:10,data:e.activeData},a={labels:e.labels,datasets:[Object.assign({},t,{label:"Confirmed",backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgb(99,255,255)",pointBackgroundColor:"rgb(99,255,255)",pointBorderColor:"rgba(75,192,192,1)",pointHoverBackgroundColor:"rgba(75,192,192,1)",data:e.confirmedData}),Object.assign({},t,{label:"Active",backgroundColor:"rgba(192,92,41,0.4)",borderColor:"rgb(255,122,54)",pointBackgroundColor:"rgb(255,122,54)",pointBorderColor:"rgba(192,92,41,1)",pointHoverBackgroundColor:"rgba(192,92,41,1)",data:e.activeData}),Object.assign({},t,{label:"Recovered",backgroundColor:"rgba(113,192,56,0.4)",borderColor:"rgb(113,192,56)",pointBorderColor:"rgb(113,192,56)",pointBackgroundColor:"rgb(167,255,65)",pointHoverBackgroundColor:"rgb(113,192,56)",data:e.recoveredData}),Object.assign({},t,{label:"Deaths",backgroundColor:"rgba(188,192,187,0.4)",borderColor:"rgb(188,192,187)",pointBorderColor:"rgb(188,192,187)",pointBackgroundColor:"rgb(251,255,249)",pointHoverBackgroundColor:"rgb(188,192,187)",data:e.deathsData})]};return o.a.createElement(h.a,{data:a,options:{maintainAspectRatio:!0}})},C=function(e){var t=e.country,a=e.summary,r=e.data,n="".concat(null===a||void 0===a?void 0:a.confirmed)||"-",c="".concat(null===a||void 0===a?void 0:a.recovered)||"-",s="".concat(null===a||void 0===a?void 0:a.deaths)||"-",i="".concat(null===a||void 0===a?void 0:a.active)||"-",l="".concat(null===a||void 0===a?void 0:a.firstContactDate)||"-";return o.a.createElement("div",{className:"col-12 col-lg-6",key:t},o.a.createElement("div",{className:"chartBox"},o.a.createElement("h4",null,t," ",o.a.createElement("span",{className:"active"},i)," ",o.a.createElement("span",{className:"confirmed"},n)," ",o.a.createElement("span",{className:"recovered"},c)," ",o.a.createElement("span",{className:"deaths"},s)),o.a.createElement("p",null,o.a.createElement("small",null,"First contact: ",l)),o.a.createElement(p,{labels:Object.keys(r.confirmed),confirmedData:Object.values(r.confirmed),recoveredData:Object.values(r.recovered),deathsData:Object.values(r.deaths),activeData:Object.values(r.active)})))},O=a(71),E=a.n(O);var j=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc";return Object.keys(e).sort((function(r,o){var n=a,c=e[r][t],s=e[o][t];return"firstContactDate"===t&&(n="desc"===a?"asc":"desc"),"desc"===n?void 0===c?-1:void 0===s?1:c===s?0:c<s?1:-1:void 0===c?1:void 0===s?-1:c===s?0:c>s?1:-1}))},D=function(e){for(var t=Object.keys(e),a=0;a<t.length;a+=1)for(var r=e[t[a]],o=Object.keys(r.confirmed),n=0;n<o.length;n+=1){var c=o[n];r.active[c]=r.confirmed[c]-r.recovered[c]-r.deaths[c]}},y=function(e,t,a){for(var r=function(r){var o=t[r],n=o["Country/Region"];n&&(e[n]||(e[n]={confirmed:{},recovered:{},deaths:{},active:{}}),Object.keys(o).filter((function(e){return e.match(/[0-9/]{6,}/)})).forEach((function(t){var r=b()(t,"M/D/YY").format("YYYY-MM-DD");e[n][a][r]=parseInt(o[t])+(0|e[n][a][r])})))},o=0;o<t.length;o+=1)r(o)},S=function(e){var t={};return Object.keys(e).forEach((function(a){var r=Object.keys(e[a].confirmed),o=Object.values(e[a].confirmed),n=Object.values(e[a].confirmed).reverse().find((function(e){return e>0}))||0,c=Object.values(e[a].recovered).reverse().find((function(e){return e>0}))||0,s=Object.values(e[a].deaths).reverse().find((function(e){return e>0}))||0,i=r[o.findIndex((function(e){return e>0}))]||b()().format("YYYY-MM-DD");t[a]={firstContactDate:i,confirmed:n,recovered:c,deaths:s,active:n-c-s}})),t};function k(e){return _.apply(this,arguments)}function _(){return(_=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:return a=e.sent,e.abrupt("return",g.a.parse(a,{header:!0}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){if(!e.body)return"";var t=e.body.getReader(),a=new TextDecoder("utf-8");return t.read().then((function(e){return a.decode(e.value)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(d.a)(c,2),i=s[0],l=s[1],m=Object(r.useState)({}),b=Object(d.a)(m,2),f=b[0],g=b[1],h=Object(r.useState)([]),p=Object(d.a)(h,2),O=p[0],_=p[1],B=Object(r.useState)({}),w=Object(d.a)(B,2),N=w[0],I=w[1],Y=Object(r.useState)("confirmed"),x=Object(d.a)(Y,2),H=x[0],R=x[1],A=Object(r.useState)("desc"),V=Object(d.a)(A,2),G=V[0],M=V[1],W=Object(r.useState)(""),J=Object(d.a)(W,2),P=J[0],T=J[1],q=Object(r.useState)(""),F=Object(d.a)(q,2),$=F[0],z=F[1];if(!i)if(a){if(P!==H||$!==G){l(!0);var K=j(N,H,G);T(H),z(G),console.log("countriesSorted",K),_(K),l(!1)}}else l(!0),Promise.all([k("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv"),k("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Recovered.csv"),k("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Deaths.csv")]).then((function(e){var t=Object(d.a)(e,3),a=t[0],r=t[1],o=t[2],c={};y(c,a.data,"confirmed"),y(c,r.data,"recovered"),y(c,o.data,"deaths"),D(c),console.log("byCountry",c);var s=S(c);console.log("byCountrySummary",s);var i=j(s,H,G);T(H),z(G),g(c),I(s),_(i),n(!0),l(!1)}));return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"App-content"},o.a.createElement("header",{className:"header"},o.a.createElement("h1",null,"Coronavirus COVID-19 Statistic Charts"),o.a.createElement("p",null,o.a.createElement("small",null,"(data source: ",o.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19"},"https://github.com/CSSEGISandData/COVID-19"),")"))),O.length>0&&o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 d-flex justify-content-end"},o.a.createElement("div",{className:"mr-4"},"Order by:"),o.a.createElement(u.a,{id:"orderBy",value:H,onChange:function(e,t){console.log("handleOrderBySelect val",e.target.value),R(e.target.value)},className:"mr-2"},o.a.createElement(v.a,{value:"confirmed"},"confirmed"),o.a.createElement(v.a,{value:"active"},"active"),o.a.createElement(v.a,{value:"recovered"},"recovered"),o.a.createElement(v.a,{value:"deaths"},"deaths"),o.a.createElement(v.a,{value:"firstContactDate"},"first contact date")),o.a.createElement(u.a,{id:"orderDir",value:G,onChange:function(e,t){console.log("handleOrderDirSelect val",e.target.value),M(e.target.value)}},o.a.createElement(v.a,{value:"desc"},"desc"),o.a.createElement(v.a,{value:"asc"},"asc")))),o.a.createElement("div",{className:"row"},O.map((function(e,t){return o.a.createElement(C,{country:e,summary:N[e],data:f[e],key:e})})))),0===O.length&&o.a.createElement("img",{src:E.a,className:"App-logo",alt:"loading"}),o.a.createElement("footer",null,o.a.createElement("p",null,o.a.createElement("small",null,"Source code available at: ",o.a.createElement("a",{href:"https://github.com/covid19stats/covid19stats.github.io"},"https://github.com/covid19stats/covid19stats.github.io"),".")),o.a.createElement("p",null,o.a.createElement("small",null,"Suggestions and Pull Requests are very welcome.")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},71:function(e,t,a){e.exports=a.p+"static/media/loading.92a6a27b.svg"},79:function(e,t,a){e.exports=a(182)},84:function(e,t,a){},86:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.77790ecb.chunk.js.map